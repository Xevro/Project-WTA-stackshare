import{S as st,i as it,s as nt,d as j,I as ot,J as lt,v as at,e as k,t as A,c as b,f as y,m as L,g as d,h,k as g,l as D,L as _,n as K,p as R,q as re,r as P,Y as x,Z as fe,V as he,W as Ue,X as ce,_ as ve,$ as Ne,U as rt,N as ke,M as pe,a0 as be}from"../../chunks/vendor-e79db4d0.js";import{p as ge}from"../../chunks/stores-f688b8f5.js";import{S as je}from"../../chunks/routes.model-98ab3763.js";import{Q as Oe,C as Qe}from"../../chunks/questions-proxy.service-a2f80bfd.js";import{U as We}from"../../chunks/user-proxy.service-4293fed9.js";const C="src/routes/questions/[question].svelte";function Fe(n,t,e){const r=n.slice();return r[41]=t[e],r[42]=t,r[43]=e,r}function Ge(n,t,e){const r=n.slice();return r[44]=t[e],r}function Ce(n){let t,e;const r={c:function(){t=k("span"),e=A(n[8]),this.h()},l:function(o){t=b(o,"SPAN",{class:!0});var s=y(t);e=L(s,n[8]),s.forEach(d),this.h()},h:function(){h(t,"class","error-message s-Jz36a9_IMCYs"),g(t,C,228,8,7960)},m:function(o,s){D(o,t,s),_(t,e)},p:function(o,s){s[0]&256&&K(e,o[8])},d:function(o){o&&d(t)}};return j("SvelteRegisterBlock",{block:r,id:Ce.name,type:"if",source:"(228:4) {#if error}",ctx:n}),r}function ye(n){let t,e,r;const i={c:function(){t=k("div"),e=k("p"),r=A("Loading StackShare data..."),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"P",{class:!0});var u=y(e);r=L(u,"Loading StackShare data..."),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","s-Jz36a9_IMCYs"),g(e,C,233,12,8087),h(t,"class","question-information s-Jz36a9_IMCYs"),g(t,C,232,8,8040)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:ye.name,type:"if",source:"(232:4) {#if loading}",ctx:n}),i}function Ie(n){let t,e,r,i=n[13]&&Ee(n);function o(c,a){return c[14]?Xe:He}let s=o(n),l=s(n);const u={c:function(){t=k("div"),i&&i.c(),e=R(),l.c(),r=re(),this.h()},l:function(a){t=b(a,"DIV",{class:!0});var m=y(t);i&&i.l(m),m.forEach(d),e=P(a),l.l(a),r=re(),this.h()},h:function(){h(t,"class","buttons-group s-Jz36a9_IMCYs"),g(t,C,238,8,8196)},m:function(a,m){D(a,t,m),i&&i.m(t,null),D(a,e,m),l.m(a,m),D(a,r,m)},p:function(a,m){a[13]?i?i.p(a,m):(i=Ee(a),i.c(),i.m(t,null)):i&&(i.d(1),i=null),s===(s=o(a))&&l?l.p(a,m):(l.d(1),l=s(a),l&&(l.c(),l.m(r.parentNode,r)))},d:function(a){a&&d(t),i&&i.d(),a&&d(e),l.d(a),a&&d(r)}};return j("SvelteRegisterBlock",{block:u,id:Ie.name,type:"if",source:"(238:4) {#if !loading && !error && question}",ctx:n}),u}function Ee(n){let t,e,r,i,o,s,l;const u={c:function(){t=k("button"),e=A(n[6]),r=R(),i=k("button"),o=A("Delete"),this.h()},l:function(a){t=b(a,"BUTTON",{class:!0});var m=y(t);e=L(m,n[6]),m.forEach(d),r=P(a),i=b(a,"BUTTON",{class:!0});var J=y(i);o=L(J,"Delete"),J.forEach(d),this.h()},h:function(){h(t,"class","button-edit s-Jz36a9_IMCYs"),g(t,C,240,16,8269),h(i,"class","button-delete s-Jz36a9_IMCYs"),g(i,C,241,16,8365)},m:function(a,m){D(a,t,m),_(t,e),D(a,r,m),D(a,i,m),_(i,o),s||(l=[x(t,"click",n[25],!1,!1,!1),x(i,"click",n[23],!1,!1,!1)],s=!0)},p:function(a,m){m[0]&64&&K(e,a[6])},d:function(a){a&&d(t),a&&d(r),a&&d(i),s=!1,fe(l)}};return j("SvelteRegisterBlock",{block:u,id:Ee.name,type:"if",source:"(240:12) {#if isLoggedIn}",ctx:n}),u}function Xe(n){let t,e,r,i,o,s,l,u,c,a,m,J,Y,v,E,M,p,I,z,S,Q,V,B=n[16]&&Ye(n),w=n[17]&&Me(n);const $={c:function(){t=k("div"),e=k("form"),r=k("p"),i=A("Update the information"),o=R(),s=k("label"),l=A("Title"),u=R(),B&&B.c(),c=R(),a=k("div"),m=k("input"),J=R(),Y=k("label"),v=A("Description"),E=R(),w&&w.c(),M=R(),p=k("div"),I=k("textarea"),z=R(),S=k("input"),this.h()},l:function(q){t=b(q,"DIV",{class:!0});var U=y(t);e=b(U,"FORM",{class:!0});var T=y(e);r=b(T,"P",{class:!0});var W=y(r);i=L(W,"Update the information"),W.forEach(d),o=P(T),s=b(T,"LABEL",{class:!0});var H=y(s);l=L(H,"Title"),H.forEach(d),u=P(T),B&&B.l(T),c=P(T),a=b(T,"DIV",{class:!0});var ee=y(a);m=b(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(d),J=P(T),Y=b(T,"LABEL",{class:!0});var F=y(Y);v=L(F,"Description"),F.forEach(d),E=P(T),w&&w.l(T),M=P(T),p=b(T,"DIV",{class:!0});var ie=y(p);I=b(ie,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),y(I).forEach(d),ie.forEach(d),z=P(T),S=b(T,"INPUT",{type:!0,class:!0}),T.forEach(d),U.forEach(d),this.h()},h:function(){h(r,"class","s-Jz36a9_IMCYs"),g(r,C,272,20,9917),h(s,"class","s-Jz36a9_IMCYs"),g(s,C,273,20,9967),h(m,"type","text"),h(m,"placeholder","Title"),h(m,"class","s-Jz36a9_IMCYs"),g(m,C,280,24,10294),h(a,"class","input-field s-Jz36a9_IMCYs"),g(a,C,279,20,10244),h(Y,"class","s-Jz36a9_IMCYs"),g(Y,C,282,20,10411),h(I,"rows","5"),h(I,"placeholder","Message"),h(I,"class","s-Jz36a9_IMCYs"),g(I,C,289,24,10753),h(p,"class","textarea-field s-Jz36a9_IMCYs"),g(p,C,288,20,10700),h(S,"type","submit"),h(S,"class","button s-Jz36a9_IMCYs"),S.disabled=n[12],S.value="Update",g(S,C,291,20,10889),h(e,"class","edit-question-form s-Jz36a9_IMCYs"),g(e,C,271,16,9819),h(t,"class","edit-question s-Jz36a9_IMCYs"),g(t,C,270,12,9775)},m:function(q,U){D(q,t,U),_(t,e),_(e,r),_(r,i),_(e,o),_(e,s),_(s,l),_(e,u),B&&B.m(e,null),_(e,c),_(e,a),_(a,m),ce(m,n[0].title),_(e,J),_(e,Y),_(Y,v),_(e,E),w&&w.m(e,null),_(e,M),_(e,p),_(p,I),ce(I,n[0].description),_(e,z),_(e,S),Q||(V=[x(m,"input",n[28]),x(I,"input",n[29]),x(e,"submit",ve(n[27]),!1,!0,!1)],Q=!0)},p:function(q,U){q[16]?B||(B=Ye(q),B.c(),B.m(e,c)):B&&(B.d(1),B=null),U[0]&1&&m.value!==q[0].title&&ce(m,q[0].title),q[17]?w||(w=Me(q),w.c(),w.m(e,M)):w&&(w.d(1),w=null),U[0]&1&&ce(I,q[0].description),U[0]&4096&&Ne(S,"disabled",q[12])},d:function(q){q&&d(t),B&&B.d(),w&&w.d(),Q=!1,fe(V)}};return j("SvelteRegisterBlock",{block:$,id:Xe.name,type:"else",source:"(270:8) {:else}",ctx:n}),$}function He(n){var N,q,U,T,W,H,ee,F,ie;let t,e,r,i,o,s=((q=(N=n[0])==null?void 0:N.title)!=null?q:"")+"",l,u,c,a=((T=(U=n[0])==null?void 0:U.description)!=null?T:"")+"",m,J,Y,v,E,M,p=((ee=(H=(W=n[0])==null?void 0:W.user)==null?void 0:H.name)!=null?ee:"--")+"",I,z,S=((ie=(F=n[0])==null?void 0:F.created_date)!=null?ie:"--")+"",Q,V=n[13]&&Je(n),B=n[2];he(B);let w=[];for(let Z=0;Z<B.length;Z+=1)w[Z]=we(Ge(n,B,Z));const $={c:function(){t=k("div"),e=k("div"),V&&V.c(),r=R(),i=k("div"),o=k("p"),l=A(s),u=R(),c=k("p"),m=A(a),J=R(),Y=k("div");for(let O=0;O<w.length;O+=1)w[O].c();v=R(),E=k("p"),M=A("Written by "),I=A(p),z=A(" on "),Q=A(S),this.h()},l:function(O){t=b(O,"DIV",{class:!0});var G=y(t);e=b(G,"DIV",{class:!0});var se=y(e);V&&V.l(se),se.forEach(d),r=P(G),i=b(G,"DIV",{class:!0});var te=y(i);o=b(te,"P",{class:!0});var oe=y(o);l=L(oe,s),oe.forEach(d),u=P(te),c=b(te,"P",{class:!0});var le=y(c);m=L(le,a),le.forEach(d),J=P(te),Y=b(te,"DIV",{class:!0});var ue=y(Y);for(let ae=0;ae<w.length;ae+=1)w[ae].l(ue);ue.forEach(d),v=P(te),E=b(te,"P",{class:!0});var ne=y(E);M=L(ne,"Written by "),I=L(ne,p),z=L(ne," on "),Q=L(ne,S),ne.forEach(d),te.forEach(d),G.forEach(d),this.h()},h:function(){h(e,"class","question-likes s-Jz36a9_IMCYs"),g(e,C,247,16,8555),h(o,"class","title s-Jz36a9_IMCYs"),g(o,C,257,20,9194),h(c,"class","s-Jz36a9_IMCYs"),g(c,C,258,20,9259),h(Y,"class","categories-list s-Jz36a9_IMCYs"),g(Y,C,259,20,9317),h(E,"class","s-Jz36a9_IMCYs"),g(E,C,266,20,9618),h(i,"class","question-information s-Jz36a9_IMCYs"),g(i,C,256,16,9139),h(t,"class","questions-content s-Jz36a9_IMCYs"),g(t,C,246,12,8507)},m:function(O,G){D(O,t,G),_(t,e),V&&V.m(e,null),_(t,r),_(t,i),_(i,o),_(o,l),_(i,u),_(i,c),_(c,m),_(i,J),_(i,Y);for(let se=0;se<w.length;se+=1)w[se].m(Y,null);_(i,v),_(i,E),_(E,M),_(E,I),_(E,z),_(E,Q)},p:function(O,G){var se,te,oe,le,ue,ne,ae,me,_e;if(O[13]?V?V.p(O,G):(V=Je(O),V.c(),V.m(e,null)):V&&(V.d(1),V=null),G[0]&1&&s!==(s=((te=(se=O[0])==null?void 0:se.title)!=null?te:"")+"")&&K(l,s),G[0]&1&&a!==(a=((le=(oe=O[0])==null?void 0:oe.description)!=null?le:"")+"")&&K(m,a),G[0]&4){B=O[2],he(B);let f;for(f=0;f<B.length;f+=1){const X=Ge(O,B,f);w[f]?w[f].p(X,G):(w[f]=we(X),w[f].c(),w[f].m(Y,null))}for(;f<w.length;f+=1)w[f].d(1);w.length=B.length}G[0]&1&&p!==(p=((ae=(ne=(ue=O[0])==null?void 0:ue.user)==null?void 0:ne.name)!=null?ae:"--")+"")&&K(I,p),G[0]&1&&S!==(S=((_e=(me=O[0])==null?void 0:me.created_date)!=null?_e:"--")+"")&&K(Q,S)},d:function(O){O&&d(t),V&&V.d(),Ue(w,O)}};return j("SvelteRegisterBlock",{block:$,id:He.name,type:"if",source:"(246:8) {#if !editView}",ctx:n}),$}function Ye(n){let t,e,r;const i={c:function(){t=k("div"),e=k("span"),r=A("The description can't be empty"),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"SPAN",{class:!0});var u=y(e);r=L(u,"The description can't be empty"),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","error-message s-Jz36a9_IMCYs"),g(e,C,276,28,10101),h(t,"class","error s-Jz36a9_IMCYs"),g(t,C,275,24,10053)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:Ye.name,type:"if",source:"(275:20) {#if editTitleError}",ctx:n}),i}function Me(n){let t,e,r;const i={c:function(){t=k("div"),e=k("span"),r=A("The description can't be empty"),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"SPAN",{class:!0});var u=y(e);r=L(u,"The description can't be empty"),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","error-message s-Jz36a9_IMCYs"),g(e,C,285,28,10557),h(t,"class","error s-Jz36a9_IMCYs"),g(t,C,284,24,10509)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:Me.name,type:"if",source:"(284:20) {#if editDescriptionError}",ctx:n}),i}function Je(n){var E;let t,e,r,i,o,s=((E=n[0])==null?void 0:E.likes)+"",l,u,c,a,m,J,Y;const v={c:function(){t=k("a"),e=k("img"),i=R(),o=k("p"),l=A(s),u=R(),c=k("a"),a=k("img"),this.h()},l:function(p){t=b(p,"A",{class:!0});var I=y(t);e=b(I,"IMG",{src:!0,width:!0,class:!0}),I.forEach(d),i=P(p),o=b(p,"P",{class:!0});var z=y(o);l=L(z,s),z.forEach(d),u=P(p),c=b(p,"A",{class:!0});var S=y(c);a=b(S,"IMG",{src:!0,width:!0,class:!0}),S.forEach(d),this.h()},h:function(){pe(e.src,r="../static/arrow-up.svg")||h(e,"src",r),h(e,"width","30"),h(e,"class","s-Jz36a9_IMCYs"),g(e,C,249,72,8693),h(t,"class","like-buttons s-Jz36a9_IMCYs"),g(t,C,249,24,8645),h(o,"class","s-Jz36a9_IMCYs"),g(o,C,251,24,8844),pe(a.src,m="../static/arrow-down.svg")||h(a,"src",m),h(a,"width","30"),h(a,"class","s-Jz36a9_IMCYs"),g(a,C,252,74,8943),h(c,"class","like-buttons s-Jz36a9_IMCYs"),g(c,C,252,24,8893)},m:function(p,I){D(p,t,I),_(t,e),D(p,i,I),D(p,o,I),_(o,l),D(p,u,I),D(p,c,I),_(c,a),J||(Y=[x(t,"click",n[18],!1,!1,!1),x(c,"click",n[19],!1,!1,!1)],J=!0)},p:function(p,I){var z;I[0]&1&&s!==(s=((z=p[0])==null?void 0:z.likes)+"")&&K(l,s)},d:function(p){p&&d(t),p&&d(i),p&&d(o),p&&d(u),p&&d(c),J=!1,fe(Y)}};return j("SvelteRegisterBlock",{block:v,id:Je.name,type:"if",source:"(249:20) {#if isLoggedIn}",ctx:n}),v}function ze(n){let t,e=n[44].name+"",r;const i={c:function(){t=k("p"),r=A(e),this.h()},l:function(s){t=b(s,"P",{class:!0});var l=y(t);r=L(l,e),l.forEach(d),this.h()},h:function(){h(t,"class","s-Jz36a9_IMCYs"),g(t,C,262,32,9482)},m:function(s,l){D(s,t,l),_(t,r)},p:function(s,l){l[0]&4&&e!==(e=s[44].name+"")&&K(r,e)},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:ze.name,type:"if",source:"(262:28) {#if category.name}",ctx:n}),i}function we(n){let t,e=n[44].name&&ze(n);const r={c:function(){e&&e.c(),t=re()},l:function(o){e&&e.l(o),t=re()},m:function(o,s){e&&e.m(o,s),D(o,t,s)},p:function(o,s){o[44].name?e?e.p(o,s):(e=ze(o),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d:function(o){e&&e.d(o),o&&d(t)}};return j("SvelteRegisterBlock",{block:r,id:we.name,type:"each",source:"(261:24) {#each categories as category}",ctx:n}),r}function De(n){let t,e,r;const i={c:function(){t=k("div"),e=k("span"),r=A(n[9]),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"SPAN",{class:!0});var u=y(e);r=L(u,n[9]),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","error-message s-Jz36a9_IMCYs"),g(e,C,299,12,11107),h(t,"class","error-comments s-Jz36a9_IMCYs"),g(t,C,298,8,11066)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},p:function(s,l){l[0]&512&&K(r,s[9])},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:De.name,type:"if",source:"(298:4) {#if errorComments}",ctx:n}),i}function Se(n){let t,e,r=n[1].data;he(r);let i=[];for(let l=0;l<r.length;l+=1)i[l]=Te(Fe(n,r,l));let o=n[13]&&Re(n);const s={c:function(){for(let u=0;u<i.length;u+=1)i[u].c();t=R(),o&&o.c(),e=re()},l:function(u){for(let c=0;c<i.length;c+=1)i[c].l(u);t=P(u),o&&o.l(u),e=re()},m:function(u,c){for(let a=0;a<i.length;a+=1)i[a].m(u,c);D(u,t,c),o&&o.m(u,c),D(u,e,c)},p:function(u,c){if(c[0]&224567426){r=u[1].data,he(r);let a;for(a=0;a<r.length;a+=1){const m=Fe(u,r,a);i[a]?i[a].p(m,c):(i[a]=Te(m),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}u[13]?o?o.p(u,c):(o=Re(u),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},d:function(u){Ue(i,u),u&&d(t),o&&o.d(u),u&&d(e)}};return j("SvelteRegisterBlock",{block:s,id:Se.name,type:"if",source:"(304:4) {#if !loadingComments && comments.data && question}",ctx:n}),s}function Be(n){let t,e,r,i,o,s,l;const u={c:function(){t=k("button"),e=A(n[7]),r=R(),i=k("button"),o=A("Delete"),this.h()},l:function(a){t=b(a,"BUTTON",{class:!0});var m=y(t);e=L(m,n[7]),m.forEach(d),r=P(a),i=b(a,"BUTTON",{class:!0});var J=y(i);o=L(J,"Delete"),J.forEach(d),this.h()},h:function(){h(t,"class","button-edit-small s-Jz36a9_IMCYs"),g(t,C,308,24,11428),h(i,"class","button-delete s-Jz36a9_IMCYs"),g(i,C,309,24,11552)},m:function(a,m){D(a,t,m),_(t,e),D(a,r,m),D(a,i,m),_(i,o),s||(l=[x(t,"click",n[26],!1,!1,!1),x(i,"click",function(){be(n[24](n[41]))&&n[24](n[41]).apply(this,arguments)},!1,!1,!1)],s=!0)},p:function(a,m){n=a,m[0]&128&&K(e,n[7])},d:function(a){a&&d(t),a&&d(r),a&&d(i),s=!1,fe(l)}};return j("SvelteRegisterBlock",{block:u,id:Be.name,type:"if",source:"(308:20) {#if isLoggedIn}",ctx:n}),u}function Ze(n){let t,e,r,i,o,s,l,u,c=n[17]&&Ve(n);function a(){n[30].call(s,n[42],n[43])}const m={c:function(){t=k("div"),e=k("form"),r=k("div"),c&&c.c(),i=R(),o=k("div"),s=k("textarea"),this.h()},l:function(Y){t=b(Y,"DIV",{class:!0});var v=y(t);e=b(v,"FORM",{class:!0});var E=y(e);r=b(E,"DIV",{class:!0});var M=y(r);c&&c.l(M),i=P(M),o=b(M,"DIV",{class:!0});var p=y(o);s=b(p,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),y(s).forEach(d),p.forEach(d),M.forEach(d),E.forEach(d),v.forEach(d),this.h()},h:function(){h(s,"rows","5"),h(s,"placeholder","Message"),h(s,"class","s-Jz36a9_IMCYs"),g(s,C,344,32,13545),h(o,"class","textarea-field s-Jz36a9_IMCYs"),g(o,C,343,28,13484),h(r,"class","message s-Jz36a9_IMCYs"),g(r,C,337,24,13152),h(e,"class","edit-question-form s-Jz36a9_IMCYs"),g(e,C,336,24,13050),h(t,"class","comment-info s-Jz36a9_IMCYs"),g(t,C,335,20,12999)},m:function(Y,v){D(Y,t,v),_(t,e),_(e,r),c&&c.m(r,null),_(r,i),_(r,o),_(o,s),ce(s,n[41].description),l||(u=[x(s,"input",a),x(e,"submit",ve(n[27]),!1,!0,!1)],l=!0)},p:function(Y,v){n=Y,n[17]?c||(c=Ve(n),c.c(),c.m(r,i)):c&&(c.d(1),c=null),v[0]&2&&ce(s,n[41].description)},d:function(Y){Y&&d(t),c&&c.d(),l=!1,fe(u)}};return j("SvelteRegisterBlock",{block:m,id:Ze.name,type:"else",source:"(335:16) {:else}",ctx:n}),m}function Ke(n){var z,S,Q,V,B,w,$;let t,e,r,i,o,s=((S=(z=n[41])==null?void 0:z.message)!=null?S:"--")+"",l,u,c,a,m,J=((B=(V=(Q=n[41])==null?void 0:Q.user)==null?void 0:V.name)!=null?B:"--")+"",Y,v,E=(($=(w=n[41])==null?void 0:w.created_date)!=null?$:"--")+"",M,p=n[13]&&qe(n);const I={c:function(){t=k("div"),e=k("div"),p&&p.c(),r=R(),i=k("div"),o=k("p"),l=A(s),u=R(),c=k("div"),a=k("p"),m=A("Written by "),Y=A(J),v=A(" on "),M=A(E),this.h()},l:function(q){t=b(q,"DIV",{class:!0});var U=y(t);e=b(U,"DIV",{class:!0});var T=y(e);p&&p.l(T),T.forEach(d),r=P(U),i=b(U,"DIV",{class:!0});var W=y(i);o=b(W,"P",{class:!0});var H=y(o);l=L(H,s),H.forEach(d),u=P(W),c=b(W,"DIV",{class:!0});var ee=y(c);a=b(ee,"P",{class:!0});var F=y(a);m=L(F,"Written by "),Y=L(F,J),v=L(F," on "),M=L(F,E),F.forEach(d),ee.forEach(d),W.forEach(d),U.forEach(d),this.h()},h:function(){h(e,"class","comment-likes s-Jz36a9_IMCYs"),g(e,C,314,24,11791),h(o,"class","s-Jz36a9_IMCYs"),g(o,C,328,28,12660),h(a,"class","s-Jz36a9_IMCYs"),g(a,C,330,32,12779),h(c,"class","written-by s-Jz36a9_IMCYs"),g(c,C,329,28,12722),h(i,"class","message s-Jz36a9_IMCYs"),g(i,C,327,24,12610),h(t,"class","comment-info s-Jz36a9_IMCYs"),g(t,C,313,20,11740)},m:function(q,U){D(q,t,U),_(t,e),p&&p.m(e,null),_(t,r),_(t,i),_(i,o),_(o,l),_(i,u),_(i,c),_(c,a),_(a,m),_(a,Y),_(a,v),_(a,M)},p:function(q,U){var T,W,H,ee,F,ie,Z;q[13]?p?p.p(q,U):(p=qe(q),p.c(),p.m(e,null)):p&&(p.d(1),p=null),U[0]&2&&s!==(s=((W=(T=q[41])==null?void 0:T.message)!=null?W:"--")+"")&&K(l,s),U[0]&2&&J!==(J=((F=(ee=(H=q[41])==null?void 0:H.user)==null?void 0:ee.name)!=null?F:"--")+"")&&K(Y,J),U[0]&2&&E!==(E=((Z=(ie=q[41])==null?void 0:ie.created_date)!=null?Z:"--")+"")&&K(M,E)},d:function(q){q&&d(t),p&&p.d()}};return j("SvelteRegisterBlock",{block:I,id:Ke.name,type:"if",source:"(313:16) {#if !editCommentView}",ctx:n}),I}function Ve(n){let t,e,r;const i={c:function(){t=k("div"),e=k("span"),r=A("The description can't be empty"),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"SPAN",{class:!0});var u=y(e);r=L(u,"The description can't be empty"),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","error-message s-Jz36a9_IMCYs"),g(e,C,340,36,13317),h(t,"class","error s-Jz36a9_IMCYs"),g(t,C,339,32,13261)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:Ve.name,type:"if",source:"(339:28) {#if editDescriptionError}",ctx:n}),i}function qe(n){let t;function e(s,l){return s[41].likes!==""?$e:xe}let r=e(n),i=r(n);const o={c:function(){i.c(),t=re()},l:function(l){i.l(l),t=re()},m:function(l,u){i.m(l,u),D(l,t,u)},p:function(l,u){r===(r=e(l))&&i?i.p(l,u):(i.d(1),i=r(l),i&&(i.c(),i.m(t.parentNode,t)))},d:function(l){i.d(l),l&&d(t)}};return j("SvelteRegisterBlock",{block:o,id:qe.name,type:"if",source:"(316:28) {#if isLoggedIn}",ctx:n}),o}function xe(n){let t,e;const r={c:function(){t=k("p"),e=A("Likes --"),this.h()},l:function(o){t=b(o,"P",{class:!0});var s=y(t);e=L(s,"Likes --"),s.forEach(d),this.h()},h:function(){h(t,"class","s-Jz36a9_IMCYs"),g(t,C,323,36,12467)},m:function(o,s){D(o,t,s),_(t,e)},p:ke,d:function(o){o&&d(t)}};return j("SvelteRegisterBlock",{block:r,id:xe.name,type:"else",source:"(323:32) {:else}",ctx:n}),r}function $e(n){var E;let t,e,r,i,o,s=((E=n[41])==null?void 0:E.likes)+"",l,u,c,a,m,J,Y;const v={c:function(){t=k("a"),e=k("img"),i=R(),o=k("p"),l=A(s),u=R(),c=k("a"),a=k("img"),this.h()},l:function(p){t=b(p,"A",{class:!0});var I=y(t);e=b(I,"IMG",{src:!0,width:!0,class:!0}),I.forEach(d),i=P(p),o=b(p,"P",{class:!0});var z=y(o);l=L(z,s),z.forEach(d),u=P(p),c=b(p,"A",{class:!0});var S=y(c);a=b(S,"IMG",{src:!0,width:!0,class:!0}),S.forEach(d),this.h()},h:function(){pe(e.src,r="../static/arrow-up.svg")||h(e,"src",r),h(e,"width","30"),h(e,"class","s-Jz36a9_IMCYs"),g(e,C,317,108,12031),h(t,"class","like-buttons-comment s-Jz36a9_IMCYs"),g(t,C,317,36,11959),h(o,"class","s-Jz36a9_IMCYs"),g(o,C,319,36,12161),pe(a.src,m="../static/arrow-down.svg")||h(a,"src",m),h(a,"width","30"),h(a,"class","s-Jz36a9_IMCYs"),g(a,C,320,110,12295),h(c,"class","like-buttons-comment s-Jz36a9_IMCYs"),g(c,C,320,36,12221)},m:function(p,I){D(p,t,I),_(t,e),D(p,i,I),D(p,o,I),_(o,l),D(p,u,I),D(p,c,I),_(c,a),J||(Y=[x(t,"click",function(){be(n[21](n[41]))&&n[21](n[41]).apply(this,arguments)},!1,!1,!1),x(c,"click",function(){be(n[22](n[41]))&&n[22](n[41]).apply(this,arguments)},!1,!1,!1)],J=!0)},p:function(p,I){var z;n=p,I[0]&2&&s!==(s=((z=n[41])==null?void 0:z.likes)+"")&&K(l,s)},d:function(p){p&&d(t),p&&d(i),p&&d(o),p&&d(u),p&&d(c),J=!1,fe(Y)}};return j("SvelteRegisterBlock",{block:v,id:$e.name,type:"if",source:"(317:32) {#if comment.likes !== ''}",ctx:n}),v}function Te(n){let t,e,r,i=n[13]&&Be(n);function o(c,a){return c[15]?Ze:Ke}let s=o(n),l=s(n);const u={c:function(){t=k("div"),e=k("div"),i&&i.c(),r=R(),l.c(),this.h()},l:function(a){t=b(a,"DIV",{class:!0});var m=y(t);e=b(m,"DIV",{class:!0});var J=y(e);i&&i.l(J),J.forEach(d),r=P(m),l.l(m),m.forEach(d),this.h()},h:function(){h(e,"class","buttons-group s-Jz36a9_IMCYs"),g(e,C,306,16,11339),h(t,"class","comment-content s-Jz36a9_IMCYs"),g(t,C,305,12,11293)},m:function(a,m){D(a,t,m),_(t,e),i&&i.m(e,null),_(t,r),l.m(t,null)},p:function(a,m){a[13]?i?i.p(a,m):(i=Be(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null),s===(s=o(a))&&l?l.p(a,m):(l.d(1),l=s(a),l&&(l.c(),l.m(t,null)))},d:function(a){a&&d(t),i&&i.d(),l.d()}};return j("SvelteRegisterBlock",{block:u,id:Te.name,type:"each",source:"(305:8) {#each comments.data as comment}",ctx:n}),u}function Re(n){let t,e,r,i,o,s,l,u,c,a,m,J,Y,v=n[11]&&Pe(n),E=n[10]&&Ae(n);const M={c:function(){t=k("div"),e=k("form"),r=k("p"),i=A("Add a comment"),o=R(),v&&v.c(),s=R(),E&&E.c(),l=R(),u=k("div"),c=k("textarea"),a=R(),m=k("input"),this.h()},l:function(I){t=b(I,"DIV",{class:!0});var z=y(t);e=b(z,"FORM",{class:!0});var S=y(e);r=b(S,"P",{class:!0});var Q=y(r);i=L(Q,"Add a comment"),Q.forEach(d),o=P(S),v&&v.l(S),s=P(S),E&&E.l(S),l=P(S),u=b(S,"DIV",{class:!0});var V=y(u);c=b(V,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),y(c).forEach(d),V.forEach(d),a=P(S),m=b(S,"INPUT",{type:!0,class:!0}),S.forEach(d),z.forEach(d),this.h()},h:function(){h(r,"class","s-Jz36a9_IMCYs"),g(r,C,356,20,13993),h(c,"rows","5"),h(c,"placeholder","Message"),h(c,"class","s-Jz36a9_IMCYs"),g(c,C,368,24,14527),h(u,"class","textarea-field s-Jz36a9_IMCYs"),g(u,C,367,20,14474),h(m,"type","submit"),h(m,"class","button s-Jz36a9_IMCYs"),m.disabled=n[12],g(m,C,370,20,14661),h(e,"class","add-comment-form s-Jz36a9_IMCYs"),g(e,C,355,16,13895),h(t,"class","add-comment s-Jz36a9_IMCYs"),g(t,C,354,12,13853)},m:function(I,z){D(I,t,z),_(t,e),_(e,r),_(r,i),_(e,o),v&&v.m(e,null),_(e,s),E&&E.m(e,null),_(e,l),_(e,u),_(u,c),ce(c,n[3].message),_(e,a),_(e,m),J||(Y=[x(c,"input",n[31]),x(e,"submit",ve(n[20]),!1,!0,!1)],J=!0)},p:function(I,z){I[11]?v?v.p(I,z):(v=Pe(I),v.c(),v.m(e,s)):v&&(v.d(1),v=null),I[10]?E||(E=Ae(I),E.c(),E.m(e,l)):E&&(E.d(1),E=null),z[0]&8&&ce(c,I[3].message),z[0]&4096&&Ne(m,"disabled",I[12])},d:function(I){I&&d(t),v&&v.d(),E&&E.d(),J=!1,fe(Y)}};return j("SvelteRegisterBlock",{block:M,id:Re.name,type:"if",source:"(354:8) {#if isLoggedIn}",ctx:n}),M}function Pe(n){let t,e,r;const i={c:function(){t=k("div"),e=k("span"),r=A(n[8]),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"SPAN",{class:!0});var u=y(e);r=L(u,n[8]),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","error-message s-Jz36a9_IMCYs"),g(e,C,359,28,14128),h(t,"class","error s-Jz36a9_IMCYs"),g(t,C,358,24,14080)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},p:function(s,l){l[0]&256&&K(r,s[8])},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:Pe.name,type:"if",source:"(358:20) {#if errorAddComment}",ctx:n}),i}function Ae(n){let t,e,r;const i={c:function(){t=k("div"),e=k("span"),r=A("Message can't be empty"),this.h()},l:function(s){t=b(s,"DIV",{class:!0});var l=y(t);e=b(l,"SPAN",{class:!0});var u=y(e);r=L(u,"Message can't be empty"),u.forEach(d),l.forEach(d),this.h()},h:function(){h(e,"class","error-message s-Jz36a9_IMCYs"),g(e,C,364,28,14339),h(t,"class","error s-Jz36a9_IMCYs"),g(t,C,363,24,14291)},m:function(s,l){D(s,t,l),_(t,e),_(e,r)},d:function(s){s&&d(t)}};return j("SvelteRegisterBlock",{block:i,id:Ae.name,type:"if",source:"(363:20) {#if messageError}",ctx:n}),i}function Le(n){let t,e,r,i,o,s,l=n[8]&&Ce(n),u=n[4]&&ye(n),c=!n[4]&&!n[8]&&n[0]&&Ie(n),a=n[9]&&De(n),m=!n[5]&&n[1].data&&n[0]&&Se(n);const J={c:function(){t=R(),e=k("div"),l&&l.c(),r=R(),u&&u.c(),i=R(),c&&c.c(),o=R(),a&&a.c(),s=R(),m&&m.c(),this.h()},l:function(v){rt('[data-svelte="svelte-jckrid"]',document.head).forEach(d),t=P(v),e=b(v,"DIV",{class:!0});var M=y(e);l&&l.l(M),r=P(M),u&&u.l(M),i=P(M),c&&c.l(M),o=P(M),a&&a.l(M),s=P(M),m&&m.l(M),M.forEach(d),this.h()},h:function(){document.title="StackShare - Question",h(e,"class","details-content s-Jz36a9_IMCYs"),g(e,C,226,0,7906)},m:function(v,E){D(v,t,E),D(v,e,E),l&&l.m(e,null),_(e,r),u&&u.m(e,null),_(e,i),c&&c.m(e,null),_(e,o),a&&a.m(e,null),_(e,s),m&&m.m(e,null)},p:function(v,E){v[8]?l?l.p(v,E):(l=Ce(v),l.c(),l.m(e,r)):l&&(l.d(1),l=null),v[4]?u||(u=ye(v),u.c(),u.m(e,i)):u&&(u.d(1),u=null),!v[4]&&!v[8]&&v[0]?c?c.p(v,E):(c=Ie(v),c.c(),c.m(e,o)):c&&(c.d(1),c=null),v[9]?a?a.p(v,E):(a=De(v),a.c(),a.m(e,s)):a&&(a.d(1),a=null),!v[5]&&v[1].data&&v[0]?m?m.p(v,E):(m=Se(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:ke,o:ke,d:function(v){v&&d(t),v&&d(e),l&&l.d(),u&&u.d(),c&&c.d(),a&&a.d(),m&&m.d()}};return j("SvelteRegisterBlock",{block:J,id:Le.name,type:"component",source:"",ctx:n}),J}function ct(n,t,e){let r;ot(ge,"page"),lt(n,ge,f=>e(34,r=f));let{$$slots:i={},$$scope:o}=t;at("U5Bquestionu5D",i,[]);let s,l,u=[],c={message:""},a,m=!0,J="Edit question",Y="Edit comment",v,E,M,p=null,I,z,S,Q,V,B,w,$=!1;const N=new Oe,q=new Qe,U=new We,T=new je,W=async()=>{await N.getQuestionById(r.params.question).then(f=>f.json()).then(async f=>{e(0,s=f),e(4,a=!1);let X=new Date(s.created_at);e(0,s.created_date=X.toDateString()+" "+X.getHours()+":"+("0"+X.getMinutes()).substr(-2),s)}).then(async()=>{await q.getAllCategories().then(f=>f.json()).then(f=>{e(2,u=s.categories),f.data.forEach(X=>{s.categories.forEach(de=>{X._id===de&&u.push(X)})})})}).catch(f=>{e(4,a=!1),e(8,v="Could not load the question, something went wrong!")})},H=()=>{N.getAllComments(r.params.question).then(f=>f.json()).then(f=>{e(1,l=f),e(5,m=!1),f.data.forEach(function(X){let de=new Date(X.created_at),et=de.getHours(),tt="0"+de.getMinutes();X.created_date=de.toDateString()+" "+et+":"+tt.substr(-2)})}).catch(f=>{e(5,m=!1),e(9,E="Could not load the comments")})};U.checkUserStatus().then(f=>f.json()).then(()=>{e(13,z=!c.message)}).catch(f=>{e(13,z=!1)}),W(),H();function ee(){z?S?alert("You can only count ones"):N.updateLikesCountById(s.uuid,{likes:s.likes+1}).then(()=>{S=!0,W()}):alert("You have to be logged in to update the count.")}function F(){z?Q?alert("You can only count ones"):N.updateLikesCountById(s.uuid,{likes:s.likes-1}).then(()=>{Q=!0,W()}):alert("You have to be logged in to update the count.")}function ie(){U.checkUserStatus().then(f=>f.json()).then(()=>{e(10,M=!c.message),e(12,I=!0),M||N.addComment(s.uuid,c).then(f=>f.json()).then(f=>{f.message=="not found"&&e(11,p="Could not add the comment"),f&&location.reload()}).catch(f=>{e(11,p="Could not add the comment")}),e(12,I=!1)}).catch(()=>{alert("You can't add a comment when you are not logged in.")})}function Z(f){z?N.updateCommentLikeCountById(s.uuid,f.id,{likes:(f==null?void 0:f.likes)+1}).then(()=>{H()}):alert("You have to be logged in to update the count.")}function O(f){z?N.updateCommentLikeCountById(s.uuid,f.id,{likes:(f==null?void 0:f.likes)-1}).then(()=>{H()}):alert("You have to be logged in to update the count.")}function G(){confirm("Are you sure you want to delete this question?")&&(T.getCookie("stackshare-id")?N.deleteQuestion(s.uuid,{user:{_id:T.getCookie("stackshare-id")}}).then(f=>{f.status===401?alert("You can't delete this question"):location.href="/"}).catch(f=>{alert("You can't delete this question")}):alert("You can't delete a question that does not belong to you or you have to login"))}function se(f){confirm("Are you sure you want to delete this comment?")&&(T.getCookie("stackshare-id")?N.deleteComment(s.uuid,f.uuid,{user:{_id:T.getCookie("stackshare-id")}}).then(X=>{X.status===401?alert("You can't delete this comment"):location.reload()}).catch(X=>{alert("You can't delete a comment that does not belong to you")}):alert("You can't delete a comment that does not belong to you or you have to login"))}function te(){e(14,V=!V),V?e(6,J="Cancel edit"):e(6,J="Edit question")}function oe(){e(15,B=!B),B?e(7,Y="Cancel edit"):e(7,Y="Edit comment")}function le(){e(16,w=s.title===""),e(17,$=s.description===""),s.user._id!==T.getCookie("stackshare-id")?alert("You can't edit a question that is not yours"):!w&&!$&&N.updateQuestion(s.uuid,{title:s.title,description:s.description,user:s.user,_id:T.getCookie("stackshare-id")}).then(f=>f.json()).then(f=>{f.message&&alert(f.message),e(14,V=!1)}).catch(f=>{alert("You can't edit a question that is not yours")})}const ue=[];Object.keys(t).forEach(f=>{!~ue.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<U5Bquestionu5D> was created with unknown prop '${f}'`)});function ne(){s.title=this.value,e(0,s)}function ae(){s.description=this.value,e(0,s)}function me(f,X){f[X].description=this.value,e(1,l)}function _e(){c.message=this.value,e(3,c)}return n.$capture_state=()=>({page:ge,CategoriesProxyService:Qe,QuestionsProxyService:Oe,StoreCookie:je,UserProxyService:We,question:s,comments:l,categories:u,newComment:c,loading:a,loadingComments:m,editButtonText:J,editCommentButtonText:Y,error:v,errorComments:E,messageError:M,errorAddComment:p,inProgress:I,isLoggedIn:z,didCountUp:S,didCountDown:Q,editView:V,editCommentView:B,editTitleError:w,editDescriptionError:$,questionsProxy:N,categoriesProxy:q,userProxy:U,storeService:T,getQuestionData:W,getAllComments:H,countLikesUp:ee,countLikesDown:F,submitNewComment:ie,countCommentLikesUp:Z,countCommentLikesDown:O,deleteQuestion:G,deleteComment:se,toggleEditView:te,toggleEditCommentView:oe,submitEditForm:le,$page:r}),n.$inject_state=f=>{"question"in f&&e(0,s=f.question),"comments"in f&&e(1,l=f.comments),"categories"in f&&e(2,u=f.categories),"newComment"in f&&e(3,c=f.newComment),"loading"in f&&e(4,a=f.loading),"loadingComments"in f&&e(5,m=f.loadingComments),"editButtonText"in f&&e(6,J=f.editButtonText),"editCommentButtonText"in f&&e(7,Y=f.editCommentButtonText),"error"in f&&e(8,v=f.error),"errorComments"in f&&e(9,E=f.errorComments),"messageError"in f&&e(10,M=f.messageError),"errorAddComment"in f&&e(11,p=f.errorAddComment),"inProgress"in f&&e(12,I=f.inProgress),"isLoggedIn"in f&&e(13,z=f.isLoggedIn),"didCountUp"in f&&(S=f.didCountUp),"didCountDown"in f&&(Q=f.didCountDown),"editView"in f&&e(14,V=f.editView),"editCommentView"in f&&e(15,B=f.editCommentView),"editTitleError"in f&&e(16,w=f.editTitleError),"editDescriptionError"in f&&e(17,$=f.editDescriptionError)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[s,l,u,c,a,m,J,Y,v,E,M,p,I,z,V,B,w,$,ee,F,ie,Z,O,G,se,te,oe,le,ne,ae,me,_e]}class ht extends st{constructor(t){super(t);it(this,t,ct,Le,nt,{},null,[-1,-1]),j("SvelteRegisterComponent",{component:this,tagName:"U5Bquestionu5D",options:t,id:Le.name})}}export{ht as default};
