import{S as de,i as he,s as me,d as X,v as _e,a1 as ie,e as y,t as U,c as b,f as V,m as F,g as d,h as m,k as z,l as Y,L as a,n as pe,a2 as ge,a3 as ve,p as D,A as ye,r as T,B as be,C as ze,a4 as Ee,y as re,w as le,F as je,U as ke,X as L,Y as Z,_ as Ve,$ as Qe,Z as qe}from"../../../chunks/vendor-e79db4d0.js";import{Q as ae,C as ce}from"../../../chunks/questions-proxy.service-a2f80bfd.js";import{U as ue}from"../../../chunks/user-proxy.service-4293fed9.js";import"../../../chunks/routes.model-98ab3763.js";const E="src/routes/add/question/index.svelte";function G(r){let t,e,s;const _={c:function(){t=y("div"),e=y("span"),s=U(r[5]),this.h()},l:function(n){t=b(n,"DIV",{class:!0});var l=V(t);e=b(l,"SPAN",{class:!0});var u=V(e);s=F(u,r[5]),u.forEach(d),l.forEach(d),this.h()},h:function(){m(e,"class","error-message s-7fuz2z0j95VQ"),z(e,E,74,16,2669),m(t,"class","error s-7fuz2z0j95VQ"),z(t,E,73,12,2633)},m:function(n,l){Y(n,t,l),a(t,e),a(e,s)},p:function(n,l){l&32&&pe(s,n[5])},d:function(n){n&&d(t)}};return X("SvelteRegisterBlock",{block:_,id:G.name,type:"if",source:"(73:8) {#if error}",ctx:r}),_}function J(r){let t,e,s;const _={c:function(){t=y("div"),e=y("span"),s=U("Title can't be empty"),this.h()},l:function(n){t=b(n,"DIV",{class:!0});var l=V(t);e=b(l,"SPAN",{class:!0});var u=V(e);s=F(u,"Title can't be empty"),u.forEach(d),l.forEach(d),this.h()},h:function(){m(e,"class","error-message s-7fuz2z0j95VQ"),z(e,E,79,16,2818),m(t,"class","error s-7fuz2z0j95VQ"),z(t,E,78,12,2782)},m:function(n,l){Y(n,t,l),a(t,e),a(e,s)},d:function(n){n&&d(t)}};return X("SvelteRegisterBlock",{block:_,id:J.name,type:"if",source:"(78:8) {#if titleError}",ctx:r}),_}function K(r){let t,e,s;const _={c:function(){t=y("div"),e=y("span"),s=U("Description can't be empty"),this.h()},l:function(n){t=b(n,"DIV",{class:!0});var l=V(t);e=b(l,"SPAN",{class:!0});var u=V(e);s=F(u,"Description can't be empty"),u.forEach(d),l.forEach(d),this.h()},h:function(){m(e,"class","error-message s-7fuz2z0j95VQ"),z(e,E,87,16,3111),m(t,"class","error s-7fuz2z0j95VQ"),z(t,E,86,12,3075)},m:function(n,l){Y(n,t,l),a(t,e),a(e,s)},d:function(n){n&&d(t)}};return X("SvelteRegisterBlock",{block:_,id:K.name,type:"if",source:"(86:8) {#if descError}",ctx:r}),_}function fe(r){let t,e,s,_,o,n,l,u,v,w,Q,f=r[3]&&W(r);function q(h){r[12](h)}let B={options:r[7],class:"multi-selector"};r[6]!==void 0&&(B.selected=r[6]),v=new ie({props:B,$$inline:!0}),ge.push(()=>ve(v,"selected",q)),v.$on("change",r[9]);const A={c:function(){t=y("div"),e=y("p"),s=U("Tags"),_=D(),o=y("p"),n=U("Add up to 5 tags to describe what your question is about."),l=D(),f&&f.c(),u=D(),ye(v.$$.fragment),this.h()},l:function(c){t=b(c,"DIV",{class:!0});var j=V(t);e=b(j,"P",{class:!0});var I=V(e);s=F(I,"Tags"),I.forEach(d),_=T(j),o=b(j,"P",{class:!0});var C=V(o);n=F(C,"Add up to 5 tags to describe what your question is about."),C.forEach(d),l=T(j),f&&f.l(j),u=T(j),be(v.$$.fragment,j),j.forEach(d),this.h()},h:function(){m(e,"class","s-7fuz2z0j95VQ"),z(e,E,96,16,3449),m(o,"class","s-7fuz2z0j95VQ"),z(o,E,97,16,3477),m(t,"class","category-box s-7fuz2z0j95VQ"),z(t,E,95,12,3406)},m:function(c,j){Y(c,t,j),a(t,e),a(e,s),a(t,_),a(t,o),a(o,n),a(t,l),f&&f.m(t,null),a(t,u),ze(v,t,null),Q=!0},p:function(c,j){c[3]?f||(f=W(c),f.c(),f.m(t,u)):f&&(f.d(1),f=null);const I={};!w&&j&64&&(w=!0,I.selected=c[6],Ee(()=>w=!1)),v.$set(I)},i:function(c){Q||(re(v.$$.fragment,c),Q=!0)},o:function(c){le(v.$$.fragment,c),Q=!1},d:function(c){c&&d(t),f&&f.d(),je(v)}};return X("SvelteRegisterBlock",{block:A,id:fe.name,type:"if",source:"(95:8) {#if showCategories}",ctx:r}),A}function W(r){let t,e,s;const _={c:function(){t=y("div"),e=y("span"),s=U("Please select a category"),this.h()},l:function(n){t=b(n,"DIV",{class:!0});var l=V(t);e=b(l,"SPAN",{class:!0});var u=V(e);s=F(u,"Please select a category"),u.forEach(d),l.forEach(d),this.h()},h:function(){m(e,"class","error-message s-7fuz2z0j95VQ"),z(e,E,100,24,3642),m(t,"class","error s-7fuz2z0j95VQ"),z(t,E,99,20,3598)},m:function(n,l){Y(n,t,l),a(t,e),a(e,s)},d:function(n){n&&d(t)}};return X("SvelteRegisterBlock",{block:_,id:W.name,type:"if",source:"(99:16) {#if categoryError}",ctx:r}),_}function x(r){let t,e,s,_,o,n,l,u,v,w,Q,f,q,B,A,h,c,j,I,C,O,H,i,g=r[5]&&G(r),S=r[2]&&J(r),P=r[4]&&K(r),R=r[7]&&fe(r);const $={c:function(){t=D(),e=y("div"),s=y("form"),_=y("h2"),o=U("Add a question"),n=D(),l=y("p"),u=U(`The community is here to help you with specific coding, algorithm, or language problems.
            Avoid asking opinion-based questions.`),v=D(),g&&g.c(),w=D(),S&&S.c(),Q=D(),f=y("div"),q=y("input"),B=D(),P&&P.c(),A=D(),h=y("div"),c=y("textarea"),j=D(),R&&R.c(),I=D(),C=y("input"),this.h()},l:function(p){ke('[data-svelte="svelte-1e87fvr"]',document.head).forEach(d),t=T(p),e=b(p,"DIV",{class:!0});var ee=V(e);s=b(ee,"FORM",{class:!0});var k=V(s);_=b(k,"H2",{class:!0});var te=V(_);o=F(te,"Add a question"),te.forEach(d),n=T(k),l=b(k,"P",{class:!0});var se=V(l);u=F(se,`The community is here to help you with specific coding, algorithm, or language problems.
            Avoid asking opinion-based questions.`),se.forEach(d),v=T(k),g&&g.l(k),w=T(k),S&&S.l(k),Q=T(k),f=b(k,"DIV",{class:!0});var oe=V(f);q=b(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),oe.forEach(d),B=T(k),P&&P.l(k),A=T(k),h=b(k,"DIV",{class:!0});var ne=V(h);c=b(ne,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),V(c).forEach(d),ne.forEach(d),j=T(k),R&&R.l(k),I=T(k),C=b(k,"INPUT",{type:!0,class:!0}),k.forEach(d),ee.forEach(d),this.h()},h:function(){document.title="StackShare - Add your question",m(_,"class","title s-7fuz2z0j95VQ"),z(_,E,69,8,2409),m(l,"class","s-7fuz2z0j95VQ"),z(l,E,70,8,2455),m(q,"type","text"),m(q,"placeholder","Title"),m(q,"class","s-7fuz2z0j95VQ"),z(q,E,83,12,2953),m(f,"class","input-field s-7fuz2z0j95VQ"),z(f,E,82,8,2915),m(c,"rows","10"),m(c,"placeholder","Description"),m(c,"class","s-7fuz2z0j95VQ"),z(c,E,91,12,3255),m(h,"class","textarea-field s-7fuz2z0j95VQ"),z(h,E,90,8,3214),m(C,"type","submit"),m(C,"class","button s-7fuz2z0j95VQ"),C.disabled=r[1],z(C,E,107,8,3948),m(s,"class","add-question-form s-7fuz2z0j95VQ"),z(s,E,68,4,2328),m(e,"class","add-question s-7fuz2z0j95VQ"),z(e,E,67,0,2297)},m:function(p,N){Y(p,t,N),Y(p,e,N),a(e,s),a(s,_),a(_,o),a(s,n),a(s,l),a(l,u),a(s,v),g&&g.m(s,null),a(s,w),S&&S.m(s,null),a(s,Q),a(s,f),a(f,q),L(q,r[0].title),a(s,B),P&&P.m(s,null),a(s,A),a(s,h),a(h,c),L(c,r[0].description),a(s,j),R&&R.m(s,null),a(s,I),a(s,C),O=!0,H||(i=[Z(q,"input",r[10]),Z(c,"input",r[11]),Z(s,"submit",Ve(r[8]),!1,!0,!1)],H=!0)},p:function(p,[N]){p[5]?g?g.p(p,N):(g=G(p),g.c(),g.m(s,w)):g&&(g.d(1),g=null),p[2]?S||(S=J(p),S.c(),S.m(s,Q)):S&&(S.d(1),S=null),N&1&&q.value!==p[0].title&&L(q,p[0].title),p[4]?P||(P=K(p),P.c(),P.m(s,A)):P&&(P.d(1),P=null),N&1&&L(c,p[0].description),p[7]&&R.p(p,N),(!O||N&2)&&Qe(C,"disabled",p[1])},i:function(p){O||(re(R),O=!0)},o:function(p){le(R),O=!1},d:function(p){p&&d(t),p&&d(e),g&&g.d(),S&&S.d(),P&&P.d(),R&&R.d(),H=!1,qe(i)}};return X("SvelteRegisterBlock",{block:$,id:x.name,type:"component",source:"",ctx:r}),$}function we(r,t,e){let{$$slots:s={},$$scope:_}=t;_e("Question",s,[]);let o={title:"",description:"",categories:[]},n,l,u,v=!1,w=null,Q;const f=new ae,q=new ce,B=new ue;let A=[],h;q.getAllCategories().then(i=>i.json()).then(i=>{Q=i.data,e(1,n=!1);for(let g of Q)A.push(g.name)}).catch(i=>{e(5,w="Could not send the question"),e(1,n=!1)});function c(){B.checkUserStatus().then(i=>i.json()).then(()=>{e(2,l=!o.title),e(4,v=!o.description),e(3,u=o.categories.length<=0),e(1,n=!0),!l&&!u&&!v&&f.addQuestion(o).then(i=>i.json()).then(i=>{e(1,n=!1),i.message=="not found"&&e(5,w="Could not send the question"),i&&(location.href="/")}).catch(i=>{e(5,w="Could not send the question"),e(1,n=!1)}),e(1,n=!1)}).catch(()=>{alert("You can't add a question when you are not logged in.")})}function j(){if(e(0,o.categories=[],o),Q&&h)for(let i of h)for(let g of Q)i===g.name&&o.categories.push({_id:g._id})}const I=[];Object.keys(t).forEach(i=>{!~I.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Question> was created with unknown prop '${i}'`)});function C(){o.title=this.value,e(0,o)}function O(){o.description=this.value,e(0,o)}function H(i){h=i,e(6,h)}return r.$capture_state=()=>({CategoriesProxyService:ce,QuestionsProxyService:ae,UserProxyService:ue,MultiSelect:ie,question:o,inProgress:n,titleError:l,categoryError:u,descError:v,error:w,allCategories:Q,questionProxy:f,categoriesProxy:q,userProxy:B,showCategories:A,selected:h,submitForm:c,getSelectedCategories:j}),r.$inject_state=i=>{"question"in i&&e(0,o=i.question),"inProgress"in i&&e(1,n=i.inProgress),"titleError"in i&&e(2,l=i.titleError),"categoryError"in i&&e(3,u=i.categoryError),"descError"in i&&e(4,v=i.descError),"error"in i&&e(5,w=i.error),"allCategories"in i&&(Q=i.allCategories),"showCategories"in i&&e(7,A=i.showCategories),"selected"in i&&e(6,h=i.selected)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),[o,n,l,u,v,w,h,A,c,j,C,O,H]}class De extends de{constructor(t){super(t);he(this,t,we,x,me,{}),X("SvelteRegisterComponent",{component:this,tagName:"Question",options:t,id:x.name})}}export{De as default};
